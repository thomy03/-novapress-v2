# NovaPress AI v2 - Environment Configuration Template
# Copy this file to .env and fill in your values
# NEVER commit .env to git!

# Database
DATABASE_URL=postgresql+asyncpg://novapress:password@localhost:5432/novapress_db
REDIS_URL=redis://localhost:6379/0

# Qdrant Vector DB
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# Security - CHANGE THESE IN PRODUCTION!
SECRET_KEY=generate-a-secure-key-with-python-secrets
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ADMIN_API_KEY=generate-a-secure-key-with-python-secrets

# To generate secure keys, run:
# python -c "import secrets; print(secrets.token_urlsafe(32))"

# OpenRouter LLM (get key from https://openrouter.ai)
OPENROUTER_API_KEY=sk-or-v1-your-key-here
OPENROUTER_MODEL=deepseek/deepseek-v3.2

# BGE-M3 Embeddings
EMBEDDING_MODEL=BAAI/bge-m3
EMBEDDING_DEVICE=cpu
EMBEDDING_BATCH_SIZE=32

# Scraping
USER_AGENT=NovaPress/2.0 (+https://novapress.ai)
REQUEST_TIMEOUT=30
MAX_CONCURRENT_REQUESTS=10

# RSS Feeds Sources
RSS_FEEDS=https://www.lemonde.fr/rss/une.xml,https://www.lefigaro.fr/rss/figaro_actualites.xml

# API Settings
API_V1_PREFIX=/api
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001"]
DEBUG=False

# Clustering
MIN_CLUSTER_SIZE=3
MIN_SAMPLES=2
CLUSTER_SELECTION_EPSILON=0.3

# Knowledge Graph
SPACY_MODEL=fr_core_news_lg
MAX_GRAPH_NODES=50
MAX_GRAPH_EDGES=100

# WebSocket
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=1000

# Optional: Search Enrichment APIs
# PERPLEXITY_API_KEY=pplx-your-key-here
# XAI_API_KEY=xai-your-key-here

# Persona Pre-generation
# Enable to generate all persona versions during pipeline (adds ~2-4 min per synthesis)
ENABLE_PERSONA_PREGENERATION=true
# Comma-separated list of personas to pre-generate
PERSONA_PREGENERATION_LIST=le_cynique,l_optimiste,le_conteur,le_satiriste

# Pipeline Settings
PIPELINE_INTERVAL_MINUTES=15
MAX_ARTICLES_PER_SOURCE=20

# Logging
LOG_LEVEL=INFO

# Telegram Bot — "L'IA qui vous briefe."
# Get your token from @BotFather on Telegram
# TELEGRAM_BOT_TOKEN=your-bot-token-from-botfather
# TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook/telegram
# TELEGRAM_DAILY_BRIEFING_HOUR=7
# TELEGRAM_DAILY_BRIEFING_MINUTE=0

# Discord Webhook — Notifications
# Create a webhook in your Discord channel settings → Integrations → Webhooks
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url
# DISCORD_NOTIFY_BREAKING=false
